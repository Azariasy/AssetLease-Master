
# Finance Master - 集团财务数据中心 (v5.0 Enterprise)

**Finance Master** 是一个**Local-First（本地优先）**架构的企业级智能财务分析平台。它专为集团型企业设计，能够在一个系统中同时纳管**上市主体**与**非上市主体**的全量财务数据。

通过集成 Google Gemini AI，系统实现了从“被动查账”到“主动智能审计”的跨越，让财务人员拥有了自己的 AI Copilot。

---

## 🌟 核心价值与定位变化

> **从“资产管理”到“全量业务分析”**

项目初衷是服务于非上市资产租赁业务，现已全面升级为集团级数据中台。
- **全量数据**：不仅管理租金，更覆盖研发费用、专项资金、资本开支 (CAPEX)、往来款项等全科目。
- **双轨运行**：完美支持上市公司的严格合规要求（成本分析、审计留痕）与非上市公司的灵活经营需求。

---

## 🔥 v5.0 新特性 (AI 精准溯源版)

### 1. 🔍 AI 知识库与精准引用 (Cited RAG)
对标 Perplexity 的专业问答体验。
- **有据可依**：上传 PDF/Word 格式的财务制度（如《差旅报销手册》）。
- **行内溯源**：AI 回答问题时会自动标注 `[1]`、`[2]`。
- **原文高亮**：点击引用角标，右侧自动弹出对应文档，并精准高亮 AI 参考的段落，方便人工复核。

### 2. 📊 智能经营分析
- **P&L 趋势**：自动聚合收入与成本，生成月度经营利润图表。
- **异常检测**：AI 自动扫描数万条凭证，找出金额异常（如大额整数）或摘要模糊的风险项。

### 3. ⚡ 极致性能 (Web Workers)
- **百万级吞吐**：Excel 解析与 AI 向量计算全部移至后台 Worker 线程。
- **无阻塞体验**：即使在进行复杂的 RAG 检索或导入 100MB 的年度账表时，界面依然丝般顺滑。

---

## 🚀 快速上手

1. **环境准备**：
   - 推荐使用 Chrome 或 Edge 浏览器。
   - 确保网络环境可访问 Google Gemini API。

2. **数据导入**：
   - 在首页左上角切换主体（上市/非上市）。
   - 进入“数据导入”，上传 ERP 导出的《科目余额表》或《明细账》。

3. **体验 AI 审计**：
   - 进入“AI 知识库”，上传一份公司的《财务管理制度》。
   - 提问：“招待费的报销标准是多少？”
   - 点击 AI 回答中的 `[1]`，查看制度原文。

---

## 🔒 数据安全承诺

本项目采用 **Local-First** 架构：
*   **数据不出域**：所有的财务表格数据均存储在您浏览器的 IndexedDB 中。
*   **脱敏传输**：仅在调用 AI 进行语义分析时，会发送经过脱敏处理的文本片段（Text Chunks），原始 Excel 文件绝不上传云端。

---

## 🛠️ 技术栈
*   **Frontend**: React 19, TypeScript, Tailwind CSS
*   **Data Store**: Dexie.js (IndexedDB Wrapper)
*   **AI Engine**: Google Gemini 2.0/3.0 Flash & Pro
*   **Performance**: Web Workers (Vectorization & Excel Parsing)
